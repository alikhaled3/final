(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3218],{546:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/App/searchablePdf",function(){return t(44249)}])},44249:(e,n,t)=>{"use strict";t.r(n),t.d(n,{__N_SSG:()=>P,default:()=>k});var a=t(74848);t(80243);var s=t(74450),r=t(13368),o=t.n(r),i=t(96540),l=t(96048),c=t(11700),d=t(71998),u=t(86715),h=t(24206),p=t(10159),f=t(29335),m=t(95704),g=t(83953);function v(e){let{...n}=e,t=(0,d.MW)(),s=(0,l.wA)(),{user:r}=(0,i.useContext)(f.t0),o=(0,i.useRef)({}),u=(0,i.useRef)(null);(0,i.useEffect)(()=>{(0,h.$)("View_SeachablePdfFileSelectView")},[]);let v=async(e,t)=>{let a=r&&r.uid;return e.type.toLowerCase().toLowerCase().endsWith("pdf")?((0,h.$)("State_pdfFile"),console.log("Splitting pdf"),m.indexPdfOfPdf(n.lak,t.content,a,t.id,()=>{})):((0,h.$)("State_imageFile"),console.log("Sending image"),m.indexproductImage(n.lak,e,a,t.id))};return(0,a.jsxs)("main",{className:"fileSelectView",children:[(0,a.jsxs)("div",{className:"blueCircles",children:[(0,a.jsx)("div",{className:"blueCircle1"}),(0,a.jsx)("div",{className:"blueCircle2"}),(0,a.jsx)("div",{className:"blueCircle3"})]}),p.Fr&&(0,a.jsx)("input",{ref:u,type:"file",style:{display:"none"},id:"input_file_obj",onChange:e=>{var n;null==o||null===(n=o.current)||void 0===n||n.onMobileFileChange(e.target.value)}}),(0,a.jsx)("div",{className:"pageHeadlines",children:(0,a.jsx)("h1",{children:"Convert Scans to Searchable PDF"})}),(0,a.jsx)(g.e,{showInfoMsg:(e,n)=>t.info(e,n),onAnalyzePage:(e,n,t)=>{let a=e.content;return e.name.toLowerCase().endsWith(".pdf")&&(a="data:image/jpeg;base64,".concat(n.srcImg)),{service:"SPDF",name:e.name,width:e.width,height:e.height,lines:n.lines,scanId:e.id,scanIndex:t,content:a}},onAnalysisComplete:e=>{s((0,c.$9)(e))},preProcessFile:()=>!0,alert:t,processFileBlob:v,fileSelectMobileDiv:u,fileSelectRef:o})]})}var x=t(29679),j=t(97190),w=t(22405),b=t(39820),y=t(28165),S=t(51630);let N=function(e){var n;let{...s}=e,r=(0,l.wA)(),o=(0,d.MW)(),p=(0,u.useRouter)(),m=(0,l.d4)(e=>e.application.activeScan),g=(0,l.d4)(e=>e.application.activeScan.exportFormat),v=(0,l.d4)(e=>e.application.activeScan.pages),[N,_]=(0,i.useState)(0),{profile:C,signedIn:E,user:P,app:k,fingerPrintProfile:A}=(0,i.useContext)(f.t0),R=(0,w.aU)(k),[F,D]=(0,i.useState)(y.XQ.STATUS_ERROR),[I,L]=(0,i.useState)([]);(0,i.useEffect)(()=>{(0,h.$)("View_SeachablePdfScanLines"),r((0,c.he)("SEACHABLEPDF"))},[]),(0,i.useEffect)(()=>(p.beforePopState(e=>{let{as:n}=e;return r((0,c.HA)()),p.push(j.uq,void 0,{shallow:!0}),!0}),()=>{p.beforePopState(()=>!0)}),[p]),(0,i.useEffect)(()=>{D((0,x.Rq)(C,A,E,P,(null==v?void 0:v.length)||1,y.ne.PDF))},[C,A,E,P,v]),(0,i.useEffect)(()=>{let e=[];v.forEach(n=>{let t=n.lines||[],a=Object.keys(t).reduce((e,n)=>{let a=t[n];return void 0!==a.content&&""!==a.content?e+a.content+" \n":e},"");e.push(a)}),L(e)},[v]),v&&(null===(n=v[N])||void 0===n||n.subScans);let O=v.length,T=async()=>{(0,h.$)("Action_SeachablePdfDownloadPressed"),F===y.XQ.STATUS_OK?(console.log("Download pressed",g),(await Promise.resolve().then(t.bind(t,95704))).exportFile(s.lak,v,g,P,I).then(e=>{if(!e){o.error("Error exporting file");return}E===b.iv?(0,f.MZ)(P,R,v.length||1,m.scanId,g,"SEACHABLEPDF"):(0,f.Hd)(A.profile.id,R,v.length||1,m.scanId,g)}),(0,h.$)("State_ExportingSearchablePDF"),(0,h.$)("State_Export",{App:"SearchablePdf",Type:g,Format:"",Pages:v.length||1,signedIn:E}),o.info("Downloading")):F===y.XQ.STATUS_SUBSCRIPTION_REACHED_LIMIT?((0,h.$)("State_SubscriptionReachedLimit"),S.$Q(r,(0,a.jsxs)("p",{children:["Not enough pages left on your account. ",(0,a.jsx)("br",{}),"Upgrade your plan or wait for next month for additional credits."]}),"Upgrade Now",()=>{p.push(j.bP,void 0,{shallow:!0})})):F===y.XQ.STATUS_SERVICE_NOT_INCLUDED?((0,h.$)("State_ServiceNotIncluded"),S.$Q(r,(0,a.jsxs)("p",{children:["The tool you're trying to use is not included in your current plan. ",(0,a.jsx)("br",{}),"Consider upgrading your plan to access this tool."]}),"Upgrade Now",()=>{p.push(j.bP,void 0,{shallow:!0})})):((0,h.$)("State_NoCredit"),S.$Q(r,(0,a.jsxs)("p",{children:["Not enough pages left on your account. ",(0,a.jsx)("br",{}),"Get a plan for additional credits."]}),"Learn More",()=>{p.push(j.bP,void 0,{shallow:!0})}))},$=e=>{e.preventDefault()},U=(e,n)=>{let t=JSON.parse(JSON.stringify(v));t[N].lines[e].content=n,t[N].lines[e].editLine=n,r((0,c.$9)(t))};return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"scanLinesHeaderContainer",children:(0,a.jsx)("div",{className:"download-now",children:(0,a.jsxs)("div",{className:"downloadPDF",children:[(0,a.jsx)("div",{className:"exportNowLabel",children:"Download as Searchable PDF"}),(0,a.jsx)("div",{className:"downloadButton",children:(0,a.jsxs)("button",{className:null===g?"convert-button-disabled":"convert-button",onClick:T,children:["Download",(0,a.jsx)("img",{className:"download-now-icon",src:"/Images/download_icon.png",alt:"download now"})]})})]})})}),(0,a.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"},children:(0,a.jsxs)("div",{className:"scanline-linearea",children:[O>1?(0,a.jsxs)("div",{className:"page-navigation",children:[(0,a.jsx)("div",{className:"scanline-arrow",onClick:()=>{N>=1&&_(N-1)},children:N>=1?(0,a.jsx)("img",{src:"/Images/arrow_back_blue.png",alt:"previous page"}):(0,a.jsx)("img",{src:"/Images/arrow_back_gray.png",alt:"no previous page"})}),(0,a.jsxs)("div",{className:"page-counter",children:["Page ",N+1,"/",O]}),(0,a.jsx)("div",{className:"scanline-arrow",onClick:()=>{N<O-1&&_(N+1)},children:N<O-1?(0,a.jsx)("img",{src:"/Images/arrow_next_blue.png",alt:"next page"}):(0,a.jsx)("img",{src:"/Images/arrow_next_gray.png",alt:"no next page"})})]}):(0,a.jsx)(a.Fragment,{}),(0,a.jsx)("div",{className:"scanline-table",children:(()=>{let e=v[N],n=e.lines;var t="";return t=void 0!==e.content&&""!==e.content&&"data:image/png;base64,"!==e.content?e.content:URL.createObjectURL(e.srcImg),(0,a.jsxs)("div",{className:"scanLine-table-row",children:[(0,a.jsx)("div",{className:"scanline-table-image-cell",children:(0,a.jsx)("img",{className:"scanline-cell-image-content",src:t,alt:"scanned handwriting page"})}),(0,a.jsx)("div",{className:"scanline-table-image-cell",children:Object.values(n).map((e,n)=>{let t=e.lineId;return(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"text",onCopy:$,onCut:$,className:"scanline-pdf-inputline",value:e.content,onChange:e=>U(t,e.target.value)})},t)})})]})})()})]})})]})};var _=t(91106),C=t.n(_);let E=function(e){let n=(0,l.d4)(e=>e.application.activeScan.pages),t=(0,l.wA)(),{profile:s,signedIn:r,user:o,fingerPrintProfile:d}=(0,i.useContext)(f.t0),[u,h]=(0,i.useState)("-");(0,i.useEffect)(()=>{h(x.RH(s,d,r))},[r,s,d]);let p=(0,a.jsx)("div",{className:"sign-up-message",children:(0,a.jsxs)("p",{children:["Convert and download the first ",y.RT," pages for free!"]})}),m=(0,a.jsx)("div",{className:"sign-up-message",children:(0,a.jsxs)("p",{children:["Only ",u," pages left, for more pages",(0,a.jsx)(C(),{href:j.bP,children:(0,a.jsx)("button",{className:"cursorActive",children:"Get a plan now"})})]})}),g=(0,a.jsx)("div",{className:"sign-up-message",children:(0,a.jsxs)("p",{children:["No pages left, for more pages",(0,a.jsx)(C(),{href:j.bP,children:(0,a.jsx)("button",{className:"cursorActive",children:"Get a plan now"})})]})});return(0,a.jsxs)("div",{className:"MainWindow",children:[r===b.eS?u===y.RT?p:u<=0?g:!1===isNaN(u)?m:(0,a.jsx)(a.Fragment,{}):r===b.iv?u<=0?g:u<=y.RT?m:(0,a.jsx)(a.Fragment,{}):console.log("Login undef")&&(0,a.jsx)(a.Fragment,{}),n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N,{...e}),(0,a.jsx)("div",{className:"notesButtonArea",children:(0,a.jsx)("button",{className:"startNewFormButton",onClick:()=>{console.log("startNewPressed"),t((0,c.HA)())},children:(0,a.jsx)("img",{src:"/Images/start_new.png",alt:"start new"})})})]}):(0,a.jsx)(v,{...e})]})};var P=!0;function k(e){let[n,t]=(0,i.useState)((0,a.jsx)(a.Fragment,{}));return(0,i.useEffect)(()=>{t((0,a.jsx)(s.A,{activePage:(0,a.jsx)(E,{...e})}))},[]),(0,a.jsxs)("div",{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:"Pen to Print Searchable PDF Maker Online OCR"}),(0,a.jsx)("meta",{name:"description",content:"Convert scanned handwritten notes to PDF with online OCR and make your scans searchable.."}),(0,a.jsx)("meta",{property:"og:title",content:"Pen to Print's searchable PDF"}),(0,a.jsx)("meta",{property:"og:url",content:"https://www.pen-to-print.com/"}),(0,a.jsx)("meta",{property:"og:description",content:"Convert scanned handwritten image or pdf to digital text"}),(0,a.jsx)("meta",{property:"og:image",content:"https://s3.amazonaws.com/support.p2p.serendi.me/P2P_whatsapp.png"}),(0,a.jsx)("meta",{property:"og:image:width",content:"300"}),(0,a.jsx)("meta",{property:"og:image:height",content:"200"}),(0,a.jsx)("meta",{property:"og:image:type",content:"image/png"}),(0,a.jsx)("meta",{name:"robots",content:"max-image-preview:large"}),(0,a.jsx)("meta",{name:"robots",content:"noindex"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width,initial-scale=1"})]}),n]})}},80243:(e,n,t)=>{"use strict";var a=t(96540),s=t(98587),r=t(58168),o=t(9417),i=t(42892),l=t(4146),c=a.createContext(),d={initialChunks:{}},u="PENDING",h="REJECTED",p=function(e){var n=function(n){return a.createElement(c.Consumer,null,function(t){return a.createElement(e,Object.assign({__chunkExtractor:t},n))})};return e.displayName&&(n.displayName=e.displayName+"WithChunkExtractor"),n},f=function(e){return e};function m(e){var n=e.defaultResolveComponent,t=void 0===n?f:n,c=e.render,m=e.onLoad;function g(e,n){void 0===n&&(n={});var f="function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e,g={};function v(e){return n.cacheKey?n.cacheKey(e):f.resolve?f.resolve(e):"static"}function x(e,a,s){var r=n.resolveComponent?n.resolveComponent(e,a):t(e);return l(s,r,{preload:!0}),r}var j=function(e){var n=v(e),t=g[n];return t&&t.status!==h||((t=f.requireAsync(e)).status=u,g[n]=t,t.then(function(){t.status="RESOLVED"},function(n){console.error("loadable-components: failed to asynchronously load component",{fileName:f.resolve(e),chunkName:f.chunkName(e),error:n?n.message:n}),t.status=h})),t},w=p(function(e){function t(t){var a;return((a=e.call(this,t)||this).state={result:null,error:null,loading:!0,cacheKey:v(t)},function(e,n){if(!e){var t=Error("loadable: "+n);throw t.framesToPop=1,t.name="Invariant Violation",t}}(!t.__chunkExtractor||f.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),t.__chunkExtractor)?(!1===n.ssr||(f.requireAsync(t).catch(function(){return null}),a.loadSync(),t.__chunkExtractor.addChunk(f.chunkName(t))),(0,o.A)(a)):(!1!==n.ssr&&(f.isReady&&f.isReady(t)||f.chunkName&&d.initialChunks[f.chunkName(t)])&&a.loadSync(),a)}(0,i.A)(t,e),t.getDerivedStateFromProps=function(e,n){var t=v(e);return(0,r.A)({},n,{cacheKey:t,loading:n.loading||n.cacheKey!==t})};var a=t.prototype;return a.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===h&&this.setCache(),this.state.loading&&this.loadAsync()},a.componentDidUpdate=function(e,n){n.cacheKey!==this.state.cacheKey&&this.loadAsync()},a.componentWillUnmount=function(){this.mounted=!1},a.safeSetState=function(e,n){this.mounted&&this.setState(e,n)},a.getCacheKey=function(){return v(this.props)},a.getCache=function(){return g[this.getCacheKey()]},a.setCache=function(e){void 0===e&&(e=void 0),g[this.getCacheKey()]=e},a.triggerOnLoad=function(){var e=this;m&&setTimeout(function(){m(e.state.result,e.props)})},a.loadSync=function(){if(this.state.loading)try{var e=f.requireSync(this.props),n=x(e,this.props,b);this.state.result=n,this.state.loading=!1}catch(e){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:f.resolve(this.props),chunkName:f.chunkName(this.props),error:e?e.message:e}),this.state.error=e}},a.loadAsync=function(){var e=this,n=this.resolveAsync();return n.then(function(n){var t=x(n,e.props,b);e.safeSetState({result:t,loading:!1},function(){return e.triggerOnLoad()})}).catch(function(n){return e.safeSetState({error:n,loading:!1})}),n},a.resolveAsync=function(){var e=this.props;return j((e.__chunkExtractor,e.forwardedRef,(0,s.A)(e,["__chunkExtractor","forwardedRef"])))},a.render=function(){var e=this.props,t=e.forwardedRef,a=e.fallback,o=(e.__chunkExtractor,(0,s.A)(e,["forwardedRef","fallback","__chunkExtractor"])),i=this.state,l=i.error,d=i.loading,h=i.result;if(n.suspense&&(this.getCache()||this.loadAsync()).status===u)throw this.loadAsync();if(l)throw l;var p=a||n.fallback||null;return d?p:c({fallback:p,result:h,options:n,props:(0,r.A)({},o,{ref:t})})},t}(a.Component)),b=a.forwardRef(function(e,n){return a.createElement(w,Object.assign({forwardedRef:n},e))});return b.displayName="Loadable",b.preload=function(e){b.load(e)},b.load=function(e){return j(e)},b}return{loadable:g,lazy:function(e,n){return g(e,(0,r.A)({},n,{suspense:!0}))}}}var g=m({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var n=e.result,t=e.props;return a.createElement(n,t)}}),v=g.loadable,x=g.lazy,j=m({onLoad:function(e,n){e&&n.forwardedRef&&("function"==typeof n.forwardedRef?n.forwardedRef(e):n.forwardedRef.current=e)},render:function(e){var n=e.result,t=e.props;return t.children?t.children(n):null}}),w=j.loadable,b=j.lazy;v.lib=w,x.lib=b}},e=>{var n=n=>e(e.s=n);e.O(0,[9883,8247,59,8777,9965,1106,8199,1024,4450,9238,636,6593,8792],()=>n(546)),_N_E=e.O()}]);